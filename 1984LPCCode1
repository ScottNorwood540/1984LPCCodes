campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 20,
        "fields": {
            "year": 2016,
            "summary": "<div style='overflow-y:scroll;height:200px;'>For nearly 20 years, Pierre Elliot Trudeau has served as the kingmaker of Canadian politics. Everybody in Canada has an opinion on the man; some praise him for being the visionary leader who has brought Canada into a new era, one formed in his image. Others deride him as an arrogant egotist who has consistently put the interests of himself and his party over those of the Canadian people. One thing is certain; the man has indelibly left his mark in this country.<br> <br> From official bilingualism to the October Crisis, from judicial liberalization to the NEP, from the Quebec Independence referendum to the patriation of the constitution. Many of the immense changes in this country have been crafted by PET, and now, after 16 years in power, the country is left teetering at the precipice of its most immense change yet: Who will replace the resigning Pierre Elliot Trudeau to take up the mantle of Prime Minister of Canada and leader of the “Natural Governing Party”? <br> <br> Amid the Prime Minister’s sudden resignation and with an election on the horizon, the unthinkable has begun to happen, the Liberals are coming back from the dead in the polls, and two familiar faces emerge as the frontrunners to take the party into the next election.</p></div>",
            "image_url": "https://smartcdn.gprod.postmedia.digital/ottawacitizen/wp-content/uploads/2014/06/june-1984-sun-file-photo-of-jean-chretien-l-and-john-turner-photo-by-bill-ke.jpg",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://i.imgur.com/FqDLl3e.jpeg",
            "recommended_reading": "<h4 style=\"margin-top: 0.5em;\">Articles</h4>FiveThirtyEight - <a href=\"http://projects.fivethirtyeight.com/2016-swing-the-election/\" target=\"_blank\"> What Would It Take To Turn Blue States Red?</a></br><a href=\"http://thehill.com/blogs/ballot-box/presidential-races/274317-anti-trump-forces-point-to-losing-match-ups-with-clinton\">Anti-Trump forces seize on grim polls for Clinton match-up</a></br><a href=\"http://www.slate.com/blogs/the_slatest/2016/02/24/donald_trump_could_beat_hillary_clinton_in_the_general.html\">Think Hillary Clinton Will Crush Donald Trump in the General Election? Don’t Be So Sure.</a></br><a href=\"http://www.slate.com/blogs/the_slatest/2016/03/01/hillary_clinton_plots_her_general_election_trump_strategy.html\">How Team Clinton Is Planning to Defeat Trump</a></br><a href=\"http://www.vox.com/2016/2/10/10961324/donald-trump-win-november\">Here's Donald Trump's Best Strategy for Winning the White House</a><h4>Books</h4>\nHillary Clinton - <a href=\"http://www.amazon.com/exec/obidos/ASIN/1476751471/amhius20-20\" target=\"_blank\">Hard Choices</a></br>\nHillary Clinton - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0743222253/amhius20-20\" target=\"_blank\">Living History</a></br>\nDonald Trump - <a href=\"http://www.amazon.com/exec/obidos/ASIN/1501137964/amhius20-20\" target=\"_blank\">Crippled America: How to Make America Great Again</a></br>\nDonald Trump - <a href=\"http://www.amazon.com/exec/obidos/ASIN/0399594493/amhius20-20\" target=\"_blank\">The Art of the Deal</a></br>\nGary Johnson - <a href=\"http://www.amazon.com/exec/obidos/ASIN/B008PXW0C0/amhius20-20\" target=\"_blank\">Seven Principles of Good Government</a>",
            "has_visits": 0,
            "no_electoral_majority_image": "https://files.tvo.org/files/s3fs-public/media-library/microsoftteams-image_-_2024-03-04t105606.559.png?VersionId=5Kig4PxNQujNCSFR4gGKpXKgYyI8WCSz?fid=31112",
            "creator": "Dan Bryan",
            "display_year": "1984LPC"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 200,
        "fields": {
            "first_name": "Jean",
            "last_name": "Chrétien",
            "election": 20,
            "party": "Liberal Party of Canada",
            "state": "Quebec (Saint-Maurice)",
            "priority": 1,
            "description": "<div style='overflow-y:scroll;height:200px;'>\n“Most Canadians don’t understand the House of Commons. They turn on their televisions, see us yelling at one another, and dismiss us as a bunch of fools.” <br><br> Jean Chrétien has been Canada's favourite underdog for a while, and this election will be no different.<br><br> Chrétien has all of the experience needed to be Prime Minister, he's held nearly every cabinet position worth holding, Minister of Finance, Justice and currently Energy. His accomplishments as Minister of Justice have been burned into the brains of every Canadian; he successfully won the referendum for the country, successfully patriated the constitution and led the charge in creating the Charter of Rights and Freedoms.<br><br> So what's the problem here? Why isn't Chrétien the frontrunner? <br><br> It's simple: he rubs the establishment the wrong way. The Liberal has thrown their support towards Turner. Despite this, Chrétien refuses to give up and is hellbent on becoming the next Prime Minister. <br><br> In order to lead the Liberal Party, Jean Chrétien must navigate a large disadvantage in campaign funding, the establishment's unwavering support of John Turner and his perception of only appealing to French Canadians.  <br><br> However, Chrétien is an electric campaigner, able to go for months on end without any signs of slowing down. If there is anybody on the planet capable of making this comeback, it's him. He believes that he is the true people's champion, and he'll be damned if that doesn't translate to results.",
            "color_hex": "#FF0000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 1,
            "image_url": "https://i.imgur.com/mEtTpAy.jpeg",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2016 election.</h3><p>In spite of a hard-fought challenge from Hillary Clinton, you have shocked the world with your election victory.</p><p>On the political front, you have the bully pulpit in your favor, but support in Congress in uncertain. Will you govern as a more traditional conservative, or will you make a break from orthodoxy?</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>Many of your supporters are despondent that you have faltered to the likes of Hillary Clinton. Republicans in general believe this was a very winnable election, and are enraged that you came in to blow it. Luckily, there are any number of ways for you to take advantage of your newfound exposure. One rumor even has you founding a television station to profit from the aggrieved sensibilities of your followers. The future is in your hands.</p>",
            "no_electoral_majority_message": "<h3>Almost.</h3><p>No candidate secured a majority in the Electoral College. However, the Republicans won a majority in Congress and will elevate you to the Presidency. Time will tell how things go in that regard. Any mutual affection between you and Congress is predicted to be short-lived, but you've pulled off a number of surprises to get this far.</p>",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 201,
        "fields": {
            "first_name": "John",
            "last_name": "Turner",
            "election": 20,
            "party": "Liberal Party of Canada",
            "state": "British Columbia (Vancouver Quadra)",
            "priority": 2,
            "description": "<div style='overflow-y:scroll;height:200px;'>\n“In opposition, there's not much one can do. One doesn't have the carrot and one doesn't have the stick. One can't promote and one can't fire. And persuasion has its limits.” <br><br>This is not John Turner's first rodeo.<br><br>First rising to prominence as \"the Canadian Kennedy\" when he sought the leadership of the Liberal Party in 1968, the words he said then still play on repeat in his head, \"I'm not just in this race so you will remember my name at some future date … I'm not bidding now for your consideration at some vague convention in 1984… My time is now…\"<br><br> Following his defeat to Trudeau, Turner was appointed to two significant cabinet positions: justice and finance. However, his disillusionment with his role in Trudeau's government led to his resignation from the latter post in 1975 and, ultimately, his departure from politics the following February.<br><br> Since leaving politics, he's spent much time and effort making peace with the Liberal Party's establishment to ensure that he would be the next nominee, the question is now: Can he do so with the people behind him? <br><br> Now he's officially back in public life to once again try his hand at winning the Liberal Party leadership, Turner is committed to realizing his dream from 16 years ago - becoming the Prime Minister of Canada and leading the country into a new, greater era.</div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>",
            "color_hex": "#eeff0c",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://i.imgur.com/BYSVvSv.jpeg",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2016 election.</h3><p>In spite of a hard-fought challenge from Donald Trump, you have become the first woman elected to serve as President.</p><p>On the political front, it is unclear how much of your agenda you will be able to push forward with the current Congress. Hopefully your victory has helped Democrats further down the ballot. Start packing and prepare to move back into the White House!</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>Many of your supporters are despondent that you have faltered to the likes of Donald Trump. Many in the left wing of the party are furious that you pushed their candidate aside, only to lose. Time will tell how Trump operates as President. As for you, a long and sometimes ambiguous political career seems to be coming to its end.</p>",
            "no_electoral_majority_message": "<h3>Sorry! You have lost the 2016 election.</h3><p>No candidate secured a majority in the Electoral College. However, the Republicans won a majority in Congress and will elevate Trump to the Presidency. Time will tell how things go in that regard. As for you, a long and sometimes ambiguous political career seems to be coming to its end.</p>",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 202,
        "fields": {
            "first_name": "Other",
            "last_name": "Candidates",
            "election": 20,
            "party": "Liberal Party of Canada",
            "state": "Various",
            "priority": 3,
            "description": "'",
            "color_hex": "#e3e9fd",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 204,
        "fields": {
            "first_name": "Liberal",
            "last_name": "Party of Canada",
            "election": 20,
            "party": "LPC",
            "state": "Ontario (Ottawa)",
            "priority": 5,
            "description": "'",
            "color_hex": "#ffffff",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Liberal_Party_of_Canada_logo%2C_1984.svg/2048px-Liberal_Party_of_Canada_logo%2C_1984.svg.png",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "The Liberal Party of Canada is an institution.<br><br> Ruling for 71 of the past 117 years, the party has certainly earned the moniker of Canada's \"Natural Governing Party.\" Cycling through leaders, ideologies, policies, setbacks and eras, the LPC has always managed to reinvent itself and to crawl back to the seat of power in Ottawa.<br><br> Following the resignation of Pierre Elliot Trudeau as leader and Prime Minister, the party is primed to reinvent itself yet again. As battle lines begin to form among the party ranks, one thing is certain; whatever man wins this contest will have a formidable machine, warchest, and party brand at their command- all they need to do first, is win.   ",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 209,
        "fields": {
            "first_name": "Liberal",
            "last_name": "Party of Canada",
            "election": 20,
            "party": "LPC",
            "state": "Ontario (Ottawa)",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#ffffff",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Liberal_Party_of_Canada_logo%2C_1984.svg/2048px-Liberal_Party_of_Canada_logo%2C_1984.svg.png",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "The Liberal Party of Canada is an institution.<br><br> Ruling for 71 of the past 117 years, the party has certainly earned the moniker of Canada's \"Natural Governing Party.\" Cycling through leaders, ideologies, policies, setbacks and eras, the LPC has always managed to reinvent itself and to crawl back to the seat of power in Ottawa.<br><br> Following the resignation of Pierre Elliot Trudeau as leader and Prime Minister, the party is primed to reinvent itself yet again. As battle lines begin to form among the party ranks, one thing is certain; whatever man wins this contest will have a formidable machine, warchest, and party brand at their command- all they need to do first, is win.   ",
            "candidate_score": 1,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 85565,
        "fields": {
            "candidate": 201,
            "running_mate": 209
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 172915,
        "fields": {
            "candidate": 200,
            "running_mate": 204
        }
    }
]

e=campaignTrail_temp

var changeGameDisp = (hide) => {
  disp = "";
  if (hide) {
    disp = "none";
  }
  document.getElementsByClassName("inner_window_w_desc")[0].style.display = disp
};

e.creditsPage = () => {
  credits_html = `
    <h3>Coding</h3>
    <p><font color='#65bc6d'>DecstarG#4326</font></p>
    <h3>Writing</h3>
    <p><font color='#b665bc'>Mocha#0096</font></p>
    <p><font color='#d3cc3d'>DecstarG#4326</font><p>
    <p><font color='#3dd1d3'>NeoK#7895</font></p>
    <p><font color='#616993'>Rubix#4197</font></p>
    <h3>Playtesting/Misc. Help</h3>
    <p><em><b><font color='red'>Board667#8785</font></b></em></p>
    <p>AngryGandhi#3704</p>
    <p>Chapu#1656</p>
    <p>pedrocheems#6531</p>
    <p>Diamondy30901#0308</p>
    <p>TomBoxXD#1642</p>
    </div>
  `
  changeGameDisp(true);
  var spacer = document.createElement("amongusspacerthisisntarealelement");
  spacer.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
  document
    .getElementsByClassName("inner_window_w_desc")[0]
    .children[1].appendChild(spacer);
    changeGameDisp(true);
    var menuHeader = document.createElement("div");
    menuHeader.classList.add("inner_window_front");
    menuHeader.innerHTML = `<h1 style='font-family: "Times New Roman";'><font color='#0496f7'>Credits</font></h1>`;
    menuHeader.id = "SOTUheader";
    menuHeader.style = "height: 50px;background-color:#2d2d2d";
    var newMenu = document.createElement("div");
    newMenu.classList.add("inner_window_front");
    newMenu.id = "SOTUmenu";
    newMenu.style = `height:260px;background-color:#2d2d2d;color:white;overflow-y: scroll;`;

    newMenu.innerHTML = credits_html;
    let z = document.getElementById("game_window");
    var backButton = document.createElement("button");
    backButton.style =
      "position: relative; bottom: -13px; left: -380px; width: 150px; height: 80px;font-size:40px;padding-top:5px;padding-left:8px";
    backButton.id = "backSOTUBtn";
    backButton.innerHTML = `<b>BACK</b>`;
    backButton.onclick = function () {
      document.getElementById("SOTUheader").remove();
      document.getElementById("SOTUmenu").remove();
      document.getElementById("backSOTUBtn").remove();
      changeGameDisp(false);
    };
    z.appendChild(menuHeader);
    z.appendChild(newMenu);
    z.appendChild(backButton);

}

e.credits = "<button onclick='e.creditsPage()'>Credits</button>"

campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 30,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.opponents_default_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 20,
        "year": 2016,
        "is_premium": 0,
        "display_year": "1984LPC"
    }
]

jet_data = {
    "headerColor": "#d71920",
    "windowColor": "#ffffff",
    "containerColor": "#d71920",
    "innerWindowColor": "#ffffff",
    "bannerImageUrl": "https://i.imgur.com/rL2vRxq.jpeg",
    "backgroundImageUrl": "https://i.cbc.ca/1.4691346.1528146707!/cpImage/httpImage/image.jpg_gen/derivatives/16x9_940/john-turner-at-the-leadership-convention-june-16-1984.jpg",
    "endingTextColor": "#000000",
    "customQuote": ""
}

//#startcode



nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#d71920";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#ffffff";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#d71920";

document.getElementById("header").src = "https://i.imgur.com/rL2vRxq.jpeg";

document.body.background = "https://i.cbc.ca/1.4691346.1528146707!/cpImage/httpImage/image.jpg_gen/derivatives/16x9_940/john-turner-at-the-leadership-convention-june-16-1984.jpg";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#ffffff!important;}</style>";

// Initialise custom music

$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"

musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
  var date = new Date(null);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
}

generateTime = () => {
    // Get the audio element
    var audio = document.getElementById("campaigntrailmusic");

    timeTracker = document.createElement("div");
    timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#999999;
      float:right;
      padding: 10px;
    `
    $("#trackSelParent")[0].prepend(timeTracker);
    $("#trackSelParent")[0].prepend(document.createElement("br"));

    // Create a new element to display the current position of the audio
    var positionDisplay = document.createElement("gg");
    positionDisplay.id = "position-display";

    // Create a new slider element to change the time
    var timeSlider = document.createElement("input");
    timeSlider.type = "range";
    timeSlider.min = 0;
    timeSlider.max = 1;
    timeSlider.step = 0.001;
    timeSlider.value = 0;
    timeSlider.style.width = "200px";
    timeSlider.id = "time-slider";

    var pausePlay = document.createElement("button");
    pausePlay.id = "position-display";
    pausePlay.innerHTML = "<b>Pause</b>"
    pausePlay.style.width = "100%";


    pausePlay.addEventListener("click", event => {
      event.preventDefault();
      updatePositionDisplay();
      let audio = document.getElementById("campaigntrailmusic");
      if (audio.paused) {
        audio.play();
        event.target.innerHTML = "<b>Pause</b>";
        return;
      }
      audio.pause();
      event.target.innerHTML = "<b>Play</b>";
      return;
    })

    var volumeLabel = document.createElement("gg");
    volumeLabel.id = "volume-label";
    volumeLabel.innerHTML = "<br><b>Volume: </b>"

    var volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.min = 0;
    volumeSlider.max = 1;
    volumeSlider.step = 0.001;
    volumeSlider.value = 0;
    volumeSlider.style.width = "200px";
    volumeSlider.id = "volume-slider";

    volumeSlider.value = audio.volume;

    timeTracker.appendChild(pausePlay);
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(positionDisplay);
    timeTracker.appendChild(timeSlider);
    timeTracker.appendChild(volumeLabel);
    timeTracker.appendChild(volumeSlider);

    updatePositionDisplay();

    //for (let i = 0; i < 10; i++)
    //timeTracker.append(document.createElement("br"));


    // Function to update the position display
    function updatePositionDisplay() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
    }

    // Function to change the time of the audio
    function changeTime() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      audio.currentTime = timeSlider.value * audio.duration;
    }

    updateVolume = event => {
      audio.volume = event.target.value;
    }
    
    // Update the position display and slider every second
    setInterval(updatePositionDisplay, 1000);

    // Listen for changes to the time slider and change the time of the audio
    timeSlider.addEventListener("input", changeTime);
    volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
  trackSel = document.createElement("div");
  trackSel.id = "trackSelParent"
  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
  for (i in soundtracks) {
    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
    }
  }
  z += `</select></b><br><br>`
  // <label><input type="radio" name="option" value="option1">Option 1</label><br>
  for (i in soundtracks[e.selectedSoundtrack].tracklist) {
    let a = soundtracks[e.selectedSoundtrack].tracklist[i]
    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
    z += b
  }
  z += "</div><br><br>"
  trackSel.innerHTML = z

  // select correct song

  musicBox.appendChild(trackSel);
  Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])[0].checked = true

  // set soundtrack changer

  soundtrackSelector = document.getElementById("selectSoundtrack")
  soundtrackSelector.onchange = function() {
    for (i in soundtracks) {
      if (soundtracks[i].name == soundtrackSelector.value) {
        e.selectedSoundtrack = i
        break
      }
    }
    document.getElementById("trackSelParent").remove()
    newMusicPlayer()
  }

  var matches = document.querySelectorAll('.trackSelector');

  for (match in matches) {
    matches[match].onchange = function() {
      audio = $("#campaigntrailmusic")[0];
      audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
      audio.currentTime = 0
    }
  }

  musicBox.children[2].loop = false
  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

  musicBox.children[2].onended = function() {
    console.log("next track")
    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
      return f.tagName == "LABEL"
    }).map(f=>f.children[0])
    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
    buttons[newSel].click()
  }

  for (w = 0; w < 7; w++) {
    document.getElementById("trackSelParent").appendChild(document.createElement("br"))
  }
  
  generateTime();
}

clamp = function(a, max, min, overflow=true) {
  if (overflow) {
    return a > max ? min : a < min ? max : a;
  }
  return a > max ? max : a < min ? min : a;
}


// Track list

var soundtracks = {
  0: {
    name: "1984 LPC",
    tracklist: [
       {
        name: "Anthem",
        url: "https://cdn.discordapp.com/attachments/1284908388861349901/1284939534504693770/Canada_National_Anthem_Instrumental.mp3?ex=66f8ef72&is=66f79df2&hm=b1e0f988015216a4dfb45386605d556fcc8d04cd2f29da0b9ee8ebe2d637f5a7&",
      },
    ],
  },
  1: {
    name: "Jean Chrétien",
    tracklist: [
      {
         name: "Go with Goldwater - Otis Clements",
        url: "https://cdn.discordapp.com/attachments/619627987268141077/1074781717291880468/Studio_Project_30.mp4",
      },
      {
        name: "Radio Jingle - EWR & R",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092617789451284571/Studio_Project_48.mp4",
      },
      {
        name: "Goldwater Rally Song - Jimmy Dempsey",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092620781894258698/Studio_Project_50.mp4",
      },
      {
        name: "Carry Barry to the White House - Jan McCall",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092624552112160768/Studio_Project_52.mp4",
      },
      {
        name: "The John Birch Society - Chad Mitchell Trio",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1102130861576560721/ghsooiwn.mp4",
      },
      {
        name: "The Barry Goldwater Song - The Worsh Ahts",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092618322597654628/Studio_Project_49.mp4",
      },  
{
        name: "Go w/ Goldwater (Instrumental) - Otis Clements",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092626348754878464/Studio_Project_53.mp4",
      },

    ],
  },
  2: {
    name: "John Turner",
    tracklist: [
      {
        name: "Perfect Strangers - Deep Purple",
        url: "https://cdn.discordapp.com/attachments/1284908388861349901/1284940842913501394/Deep_Purple_-_Perfect_Strangers_Perfect_Strangers.mp3?ex=66f45369&is=66f301e9&hm=b8ab953d4e1f04c5446a3e805e4ff1004969df1231c535f2dea92ef668519922&",
      },
   {
        name: "I'm The One - Van Halen",
        url: "https://cdn.discordapp.com/attachments/1284908388861349901/1284939746849718333/Im_the_One_2015_Remaster.mp3?ex=66f45264&is=66f300e4&hm=48eb87583098e05bd4b68ee0e13769ae832e98560eef8f86b1bae38188bfcd42&",
      },

      {
        name: "Johnson our president - Bob Storm",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092615808431169556/Studio_Project_46.mp4",
      },
      {
        name: "That Big Man In Washington - Wes Holden",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092615563999719554/Studio_Project_45.mp4",
      },
         {
        name: "The Life of Lyndon Johnson- Dennis Nowicki",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092614498390646846/Studio_Project_44.mp4",
      },
      {
        name: "Lyndon Johnson Told the Nation - Tom Paxton",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092609994140168333/Studio_Project_43.mp4",
      },
      {
        name: "The Lyndon Johnson Song - Matt Beat",
        url: "https://cdn.discordapp.com/attachments/1021566158069055578/1092608812701192202/Studio_Project_42.mp4",
      },
    ],
},
}

// Set up new music player

newMusicPlayer()


//#endcode


